<!DOCTYPE HTML>
<html>
  <!-- this html is as close to identical to what's produced by the
  elm compiler's '--output index.html' as possible.

  two seemingly subtle things that seem like they shouldn't matter but
  are required to get things to load at all:

  (1) the tag must be <script></script> rather than <script/>

  (2) the inline script that invokes elm must be in the body, not the
  head.-->
  <head>
    <meta charset="UTF-8">
    <title>Album Loading</title>
    <style>
      html,head,body {
        padding:0; margin:0;
        background: black;
      }
      body {
        font-family: calibri, helvetica, arial, sans-serif;
        color: white;
      }
    </style>
    <script type="text/javascript" src="elbum.js"></script>
  </head>
  <body>
    <script type="text/javascript">
      // cribbed from https://github.com/lazd/iNoBounce/blob/master/inobounce.js
      // Enable by default if the browser supports -webkit-overflow-scrolling
      // Test this by setting the property with JavaScript on an element that exists in the DOM
      // Then, see if the property is reflected in the computed style
      var testDiv = document.createElement('div');
      document.documentElement.appendChild(testDiv);
      testDiv.style.WebkitOverflowScrolling = 'touch';
      var scrollSupport = 'getComputedStyle' in window && window.getComputedStyle(testDiv)['-webkit-overflow-scrolling'] === 'touch';
      document.documentElement.removeChild(testDiv);

      var app = Elm.Main.fullscreen({scrollSupport: scrollSupport});
      app.ports.setTitle.subscribe(function(title){
        document.title = title;
      });
    </script>
  </body>
</html>
